<div ng-controller="FoodTruckViewElectionCtrl">
    <ol class="breadcrumb">
        <li><a href="#/foodtruck/elections">Elections</a></li>
        <li>{{election.title}}</li>
    </ol>
    <div ng-hide="!candidateSelected">
        <p>Election Closed.</p>
        <p>The winner is {{election.selectedCandidate.displayName}}</p>
        <p>Share the election results</p>
        <div class="row">
            <div class="col-md-2 col-md-offset-4">
                <fbshare></fbshare>
            </div>
            <div class="col-md-2 col-md-offset-1">
                <tweetshare></tweetshare>
            </div>
        </div>
        <div class="row well qr-code-container">
            <a ng-href="/voodie/secure/checkInQrCode?e={{ election.id }}" target="_blank"
               class="btn btn-default btn-block btn-lg">Print QR Code</a>
        </div>
    </div>
    <h3>Results</h3>
    <div class="row well" ng-repeat="c in election.candidates">
        <div class="col-md-3">
            <span class="h4">{{c.displayName}}</span> <span class="badge">{{c.numberOfVotes}}</span>
        </div>
        <div class="col-md-8 candidate-progress">
            <progress><bar value="candidateProgress[c.id].value" type="candidateProgress[c.id].type"></bar></progress>
        </div>
        <div class="col-md-1">
            <button ng-hide="candidateSelected" class="btn btn-default btn-primary" ng-click="makeSelection(c.id)">Select</button>
        </div>
    </div>
</div>
